<div class="dashboard-container">
  <h1>Admin Dashboard</h1>
  
  <div class="filters">
    <label for="status-filter">Filter by Status:</label>
    <select id="status-filter" [(ngModel)]="selectedStatus" (change)="filterAppointments()">
      <option *ngFor="let option of statusOptions" [value]="option.value">
        {{ option.label }}
      </option>
    </select>
  </div>

  <div class="appointments-list" *ngIf="!loading; else loadingTemplate">
    <div class="appointment-card" *ngFor="let appointment of filteredAppointments">
      <div class="appointment-header">
        <h3>{{ appointment.customerName }}</h3>
        <span class="status" [class]="'status-' + appointment.status.toLowerCase()">
          {{ appointment.status }}
        </span>
      </div>
      
      <div class="appointment-details">
        <p><strong>Age:</strong> {{ appointment.age }}</p>
        <p><strong>Phone:</strong> {{ appointment.phoneNumber }}</p>
        <p><strong>Deadline:</strong> {{ appointment.deadline | date }}</p>
        <p *ngIf="appointment.notes"><strong>Notes:</strong> {{ appointment.notes }}</p>
      </div>

      <div class="appointment-actions" *ngIf="appointment.status === 'PENDING'">
        <button class="btn-approve" (click)="approveAppointment(appointment.id!)">
          Approve
        </button>
        <button class="btn-decline" (click)="declineAppointment(appointment.id!)">
          Decline
        </button>
      </div>
    </div>

    <div *ngIf="filteredAppointments.length === 0" class="no-appointments">
      No appointments found.
    </div>
  </div>

  <ng-template #loadingTemplate>
    <div class="loading">Loading appointments...</div>
  </ng-template>
</div>
