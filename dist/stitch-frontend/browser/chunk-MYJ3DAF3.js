import{a as z,b as Q,c as X}from"./chunk-BTJ6ZXPL.js";import{a as H,c as N,f as L,k as Y,l as q,m as J,q as K}from"./chunk-RMUC5KL2.js";import{$ as k,D as a,E as w,J as g,L as p,O as I,P as n,Q as t,R as C,S,T as _,U as c,V as R,W as o,X as d,Y as P,Z as D,_ as T,ba as v,ca as M,da as U,la as O,ma as h,na as y,o as j,oa as W,pa as B,r as f,s as G,v as x,w as b,y as A,ya as $}from"./chunk-7MOYBRMF.js";var Z=(()=>{class i{constructor(){this.pendingCount=0,this.approvedCount=0,this.completedCount=0,this.totalCount=0}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=f({type:i,selectors:[["app-stats-grid"]],inputs:{pendingCount:"pendingCount",approvedCount:"approvedCount",completedCount:"completedCount",totalCount:"totalCount"},decls:37,vars:4,consts:[[1,"stats-grid"],[1,"stat-card","pending"],[1,"stat-icon"],[1,"material-icons"],[1,"stat-content"],[1,"stat-card","approved"],[1,"stat-card","completed"],[1,"stat-card","total"]],template:function(s,r){s&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o(4,"schedule"),t()(),n(5,"div",4)(6,"h3"),o(7),t(),n(8,"p"),o(9,"Pending Appointments"),t()()(),n(10,"div",5)(11,"div",2)(12,"span",3),o(13,"check_circle"),t()(),n(14,"div",4)(15,"h3"),o(16),t(),n(17,"p"),o(18,"Approved Appointments"),t()()(),n(19,"div",6)(20,"div",2)(21,"span",3),o(22,"celebration"),t()(),n(23,"div",4)(24,"h3"),o(25),t(),n(26,"p"),o(27,"Completed Orders"),t()()(),n(28,"div",7)(29,"div",2)(30,"span",3),o(31,"assessment"),t()(),n(32,"div",4)(33,"h3"),o(34),t(),n(35,"p"),o(36,"Total Appointments"),t()()()()),s&2&&(a(7),d(r.pendingCount),a(9),d(r.approvedCount),a(9),d(r.completedCount),a(9),d(r.totalCount))},styles:[".stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:16px;margin-bottom:24px}.stat-card[_ngcontent-%COMP%]{background:#05020ad9;padding:16px 18px;border-radius:14px;display:flex;align-items:center;gap:14px;border:1px solid rgba(246,231,193,.18)}.stat-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#0a0612e6}.stat-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px;color:#f6e7c1}.stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;margin:0 0 4px}.stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.85rem;color:#fff}@media (max-width: 900px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}"]})}}return i})();function ae(i,m){if(i&1&&(n(0,"div",4)(1,"div",5)(2,"span",6),o(3),v(4,"date"),t(),n(5,"span",7),o(6),v(7,"date"),t()(),n(8,"div",8)(9,"h4"),o(10),t(),n(11,"p"),o(12),t(),n(13,"span",9),o(14),t()()()),i&2){let e=m.$implicit;a(3),d(M(4,7,e.deadline,"dd")),a(3),d(M(7,10,e.deadline,"MMM")),a(4),d(e.customerName),a(2),d(e.phoneNumber),a(),I("status-"+e.status.toLowerCase()),a(),P(" ",e.status," ")}}function re(i,m){if(i&1&&(n(0,"div",1)(1,"h2"),o(2,"Upcoming Deadlines"),t(),n(3,"div",2),g(4,ae,15,13,"div",3),t()()),i&2){let e=c();a(4),p("ngForOf",e.deadlines)}}var ee=(()=>{class i{constructor(){this.deadlines=[]}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=f({type:i,selectors:[["app-upcoming-deadlines"]],inputs:{deadlines:"deadlines"},decls:1,vars:1,consts:[["class","section upcoming-deadlines",4,"ngIf"],[1,"section","upcoming-deadlines"],[1,"deadline-list"],["class","deadline-card",4,"ngFor","ngForOf"],[1,"deadline-card"],[1,"deadline-date"],[1,"date"],[1,"month"],[1,"deadline-info"],[1,"status-badge"]],template:function(s,r){s&1&&g(0,re,5,1,"div",0),s&2&&p("ngIf",r.deadlines.length>0)},dependencies:[O,h,y],styles:[".section[_ngcontent-%COMP%]{background:#05020ae6;border-radius:14px;padding:20px;margin-bottom:20px;border:1px solid rgba(246,231,193,.18)}.section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;margin:0 0 16px;color:#f6e7c1}.upcoming-deadlines[_ngcontent-%COMP%]   .deadline-list[_ngcontent-%COMP%]{display:grid;gap:10px}.upcoming-deadlines[_ngcontent-%COMP%]   .deadline-card[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;background:#0a0612e6;border-radius:10px;border-left:3px solid #d4af37}.upcoming-deadlines[_ngcontent-%COMP%]   .deadline-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#05020ce6;border-radius:8px;padding:8px;min-width:70px}.deadline-date[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#f8f5ff}.deadline-date[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{font-size:.85rem;color:#c3b6e6}.upcoming-deadlines[_ngcontent-%COMP%]   .deadline-info[_ngcontent-%COMP%]{flex:1}.deadline-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;color:#f8f5ff;font-size:1.1rem}.deadline-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#c3b6e6;font-size:.9rem}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:8px;font-size:.8rem;font-weight:600}.status-badge.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status-badge.status-approved[_ngcontent-%COMP%]{background:#d4edda;color:#155724}"]})}}return i})();function de(i,m){if(i&1&&(n(0,"option",7),o(1),t()),i&2){let e=m.$implicit;p("value",e.value),a(),P(" ",e.label," ")}}function le(i,m){if(i&1&&(n(0,"div",22)(1,"span",18),o(2,"Notes:"),t(),n(3,"span",19),o(4),t()()),i&2){let e=c().$implicit;a(4),d(e.notes)}}function me(i,m){if(i&1){let e=S();n(0,"div",23)(1,"button",24),_("click",function(){x(e);let r=c().$implicit,l=c(2);return b(l.onApprove(r.id))}),o(2," \u2713 Approve "),t(),n(3,"button",25),_("click",function(){x(e);let r=c().$implicit,l=c(2);return b(l.onDecline(r.id))}),o(4," \u2715 Decline "),t()()}}function ce(i,m){if(i&1&&(n(0,"div",11)(1,"div",12)(2,"div",13)(3,"h3"),o(4),t(),n(5,"p",14),o(6),t()(),n(7,"span",15),o(8),t()(),n(9,"div",16)(10,"div",17)(11,"span",18),o(12,"Age:"),t(),n(13,"span",19),o(14),t()(),n(15,"div",17)(16,"span",18),o(17,"Deadline:"),t(),n(18,"span",19),o(19),v(20,"date"),t()(),g(21,le,5,1,"div",20),t(),g(22,me,5,0,"div",21),t()),i&2){let e=m.$implicit;a(4),d(e.customerName),a(2),d(e.phoneNumber),a(),I("status-"+e.status.toLowerCase()),a(),P(" ",e.status," "),a(6),d(e.age),a(5),d(M(20,9,e.deadline,"medium")),a(2),p("ngIf",e.notes),a(),p("ngIf",e.status==="PENDING")}}function ge(i,m){if(i&1&&(n(0,"div",26)(1,"div",27)(2,"span",28),o(3,"event_busy"),t(),n(4,"h3"),o(5,"No appointments found"),t(),n(6,"p"),o(7),t()()()),i&2){let e=c(2);a(7),P("There are no ",e.selectedStatus==="ALL"?"":e.selectedStatus.toLowerCase()," appointments at the moment.")}}function ue(i,m){if(i&1&&(n(0,"div",8),g(1,ce,23,12,"div",9)(2,ge,8,1,"div",10),t()),i&2){let e=c();a(),p("ngForOf",e.appointments),a(),p("ngIf",e.appointments.length===0)}}function fe(i,m){i&1&&(n(0,"div",29),C(1,"div",30),n(2,"p"),o(3,"Loading appointments..."),t()())}var te=(()=>{class i{constructor(){this.appointments=[],this.selectedStatus="ALL",this.loading=!1,this.statusChange=new A,this.approve=new A,this.decline=new A,this.statusOptions=[{label:"All Appointments",value:"ALL"},{label:"Pending",value:"PENDING"},{label:"Approved",value:"APPROVED"},{label:"In Progress",value:"IN_PROGRESS"},{label:"Completed",value:"COMPLETED"}]}onStatusChange(){this.statusChange.emit(this.selectedStatus)}onApprove(e){this.approve.emit(e)}onDecline(e){this.decline.emit(e)}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=f({type:i,selectors:[["app-appointments-list"]],inputs:{appointments:"appointments",selectedStatus:"selectedStatus",loading:"loading"},outputs:{statusChange:"statusChange",approve:"approve",decline:"decline"},decls:10,vars:4,consts:[["loadingTemplate",""],[1,"section"],[1,"section-header"],[1,"filters"],["id","status-filter","title","Filter appointments by status",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","appointments-list",4,"ngIf","ngIfElse"],[3,"value"],[1,"appointments-list"],["class","appointment-card",4,"ngFor","ngForOf"],["class","no-appointments",4,"ngIf"],[1,"appointment-card"],[1,"appointment-header"],[1,"customer-info"],[1,"phone"],[1,"status"],[1,"appointment-details"],[1,"detail-item"],[1,"label"],[1,"value"],["class","detail-item full-width",4,"ngIf"],["class","appointment-actions",4,"ngIf"],[1,"detail-item","full-width"],[1,"appointment-actions"],[1,"btn-approve",3,"click"],[1,"btn-decline",3,"click"],[1,"no-appointments"],[1,"empty-state"],[1,"material-icons","empty-icon"],[1,"loading"],[1,"spinner"]],template:function(s,r){if(s&1){let l=S();n(0,"div",1)(1,"div",2)(2,"h2"),o(3,"All Appointments"),t(),n(4,"div",3)(5,"select",4),k("ngModelChange",function(F){return x(l),T(r.selectedStatus,F)||(r.selectedStatus=F),b(F)}),_("change",function(){return x(l),b(r.onStatusChange())}),g(6,de,2,2,"option",5),t()()(),g(7,ue,3,2,"div",6)(8,fe,4,0,"ng-template",null,0,U),t()}if(s&2){let l=R(9);a(5),D("ngModel",r.selectedStatus),a(),p("ngForOf",r.statusOptions),a(),p("ngIf",!r.loading)("ngIfElse",l)}},dependencies:[O,h,q,J,Y,N,L,y],styles:[".section[_ngcontent-%COMP%]{background:#05020ae6;border-radius:14px;padding:20px;margin-bottom:20px;border:1px solid rgba(246,231,193,.18)}.section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;margin:0 0 16px;color:#f6e7c1}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:12px}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.6rem 1rem;border:1px solid rgba(246,231,193,.3);border-radius:8px;background:#06020ce6;color:#f8f5ff;font-size:.9rem}.appointments-list[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.appointment-card[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:12px;border:1px solid #e9ecef}.appointment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1rem;padding-bottom:1rem;border-bottom:2px solid #e9ecef}.customer-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2d010c;font-size:1.2rem}.customer-info[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{margin:0;color:#6c757d;font-size:.9rem}.status[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:4px;font-size:.875rem;font-weight:500}.status.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.status.status-approved[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status.status-in_progress[_ngcontent-%COMP%]{background:#d1ecf1;color:#0c5460}.status.status-completed[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.appointment-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1rem}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.detail-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;font-weight:600}.detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#333;font-size:.95rem}.appointment-actions[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.appointment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer}.btn-approve[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.btn-decline[_ngcontent-%COMP%]{background:#f44336;color:#fff}.no-appointments[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{text-align:center;padding:2rem}.empty-icon[_ngcontent-%COMP%]{font-size:48px;color:#6c757d;opacity:.5}.no-appointments[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin:1rem 0 .5rem}.no-appointments[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin:0}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto 1rem;border:4px solid #f3f3f3;border-top:4px solid #d4af37;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return i})();function he(i,m){if(i&1&&(n(0,"span",13),o(1),t()),i&2){let e=c();a(),d(e.getPendingCount())}}function xe(i,m){if(i&1&&C(0,"app-stats-grid",14),i&2){let e=c();p("pendingCount",e.getPendingCount())("approvedCount",e.getApprovedCount())("completedCount",e.getCompletedCount())("totalCount",e.appointments.length)}}function be(i,m){if(i&1&&C(0,"app-upcoming-deadlines",15),i&2){let e=c();p("deadlines",e.getUpcomingDeadlines())}}var ne=(()=>{class i{constructor(e){this.appointmentService=e,this.appointments=[],this.filteredAppointments=[],this.loading=!0,this.selectedStatus="ALL",this.adminNavItems=[{label:"Dashboard",route:"/admin/dashboard",icon:"dashboard"},{label:"Appointments",route:"/admin/appointments",icon:"event"},{label:"Customers",route:"/admin/customers",icon:"people"},{label:"Calendar",route:"/admin/calendar",icon:"calendar_today"},{label:"Gallery",route:"/admin/gallery",icon:"collections"}],this.statusOptions=[{value:"ALL",label:"All Appointments"},{value:"PENDING",label:"Pending"},{value:"APPROVED",label:"Approved"},{value:"IN_PROGRESS",label:"In Progress"},{value:"COMPLETED",label:"Completed"}]}ngOnInit(){this.loadAppointments()}loadAppointments(){this.loading=!0,this.appointmentService.getAllAppointments().subscribe({next:e=>{this.appointments=e,this.filterAppointments(),this.loading=!1},error:e=>{console.error("Error loading appointments:",e),this.loading=!1}})}filterAppointments(){this.selectedStatus==="ALL"?this.filteredAppointments=this.appointments:this.filteredAppointments=this.appointments.filter(e=>e.status===this.selectedStatus)}onStatusChange(e){this.selectedStatus=e,this.filterAppointments()}approveAppointment(e){this.appointmentService.approveAppointment(e).subscribe({next:()=>{this.loadAppointments()},error:s=>console.error("Error approving appointment:",s)})}declineAppointment(e){let s=prompt("Please provide a reason for declining:");s&&this.appointmentService.declineAppointment(e,s).subscribe({next:()=>{this.loadAppointments()},error:r=>console.error("Error declining appointment:",r)})}getPendingCount(){return this.appointments.filter(e=>e.status==="PENDING").length}getApprovedCount(){return this.appointments.filter(e=>e.status==="APPROVED").length}getCompletedCount(){return this.appointments.filter(e=>e.status==="COMPLETED").length}getUpcomingDeadlines(){let e=new Date,s=new Date(e.getTime()+7*24*60*60*1e3);return this.appointments.filter(r=>{let l=new Date(r.deadline);return l>=e&&l<=s&&r.status!=="COMPLETED"}).sort((r,l)=>new Date(r.deadline).getTime()-new Date(l.deadline).getTime()).slice(0,5)}static{this.\u0275fac=function(s){return new(s||i)(w(X))}}static{this.\u0275cmp=f({type:i,selectors:[["app-admin-dashboard"]],decls:18,vars:8,consts:[[1,"admin-layout"],[3,"title","navItems"],[1,"dashboard-container"],[1,"top-bar"],[1,"dashboard-header"],[1,"header-actions"],["aria-label","View messages",1,"notification-btn"],[1,"material-icons"],["aria-label","View notifications",1,"notification-btn"],["class","badge",4,"ngIf"],[3,"pendingCount","approvedCount","completedCount","totalCount",4,"ngIf"],[3,"deadlines",4,"ngIf"],[3,"statusChange","approve","decline","appointments","selectedStatus","loading"],[1,"badge"],[3,"pendingCount","approvedCount","completedCount","totalCount"],[3,"deadlines"]],template:function(s,r){s&1&&(n(0,"div",0),C(1,"app-shared-sidebar",1),n(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),o(6,"Admin Dashboard"),t()(),n(7,"div",5)(8,"button",6)(9,"span",7),o(10,"mail"),t()(),n(11,"button",8)(12,"span",7),o(13,"notifications"),t(),g(14,he,2,1,"span",9),t()()(),g(15,xe,1,4,"app-stats-grid",10)(16,be,1,1,"app-upcoming-deadlines",11),n(17,"app-appointments-list",12),_("statusChange",function(u){return r.onStatusChange(u)})("approve",function(u){return r.approveAppointment(u)})("decline",function(u){return r.declineAppointment(u)}),t()()()),s&2&&(a(),p("title","Stitch")("navItems",r.adminNavItems),a(13),p("ngIf",r.getPendingCount()>0),a(),p("ngIf",!r.loading),a(),p("ngIf",!r.loading),a(),p("appointments",r.filteredAppointments)("selectedStatus",r.selectedStatus)("loading",r.loading))},dependencies:[h,z,Z,ee,te],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:linear-gradient(135deg,#2d010cf2,#2c010ef2);color:#f8f5ff;font-family:system-ui,sans-serif}.admin-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh}.dashboard-container[_ngcontent-%COMP%]{flex:1;max-width:1200px;padding:24px;margin:0 auto}.top-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:24px}.dashboard-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;color:#d4af37}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.notification-btn[_ngcontent-%COMP%]{position:relative;border:none;border-radius:999px;padding:8px 12px;background:#05020acc;color:#f6e7c1;display:inline-flex;cursor:pointer}.badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-2px;min-width:18px;height:18px;padding:0 4px;border-radius:999px;background:#e63946;color:#fff;font-size:10px;font-weight:700;display:flex;align-items:center;justify-content:center}@media (max-width: 900px){.admin-layout[_ngcontent-%COMP%]{flex-direction:column}}"]})}}return i})();function ve(i,m){i&1&&(n(0,"div",12),C(1,"div",13),n(2,"p"),o(3,"Loading customers..."),t()())}function Me(i,m){if(i&1){let e=S();n(0,"tr")(1,"td")(2,"div",16)(3,"span",17),o(4,"account_circle"),t(),n(5,"span",18),o(6),t()()(),n(7,"td"),o(8),t(),n(9,"td"),o(10),t(),n(11,"td")(12,"span",19),o(13),t()(),n(14,"td"),o(15),v(16,"date"),t(),n(17,"td")(18,"div",20)(19,"button",21)(20,"span",6),o(21,"visibility"),t()(),n(22,"button",22),_("click",function(){let r=x(e).$implicit,l=c(2);return b(l.deleteCustomer(r.id))}),n(23,"span",6),o(24,"delete"),t()()()()()}if(i&2){let e=m.$implicit;a(6),d(e.fullName),a(2),d(e.email),a(2),d(e.phoneNumber||"N/A"),a(3),d(e.appointmentCount||0),a(2),d(e.lastAppointmentDate?M(16,5,e.lastAppointmentDate,"shortDate"):"Never")}}function Pe(i,m){if(i&1&&(n(0,"div",14)(1,"table")(2,"thead")(3,"tr")(4,"th"),o(5,"Full Name"),t(),n(6,"th"),o(7,"Email"),t(),n(8,"th"),o(9,"Phone"),t(),n(10,"th"),o(11,"Appointments"),t(),n(12,"th"),o(13,"Last Visit"),t(),n(14,"th"),o(15,"Actions"),t()()(),n(16,"tbody"),g(17,Me,25,8,"tr",15),t()()()),i&2){let e=c();a(17),p("ngForOf",e.filteredCustomers)}}function Oe(i,m){if(i&1&&(n(0,"div",23)(1,"span",24),o(2,"people_outline"),t(),n(3,"h3"),o(4,"No Customers Found"),t(),n(5,"p"),o(6),t()()),i&2){let e=c();a(6),d(e.searchTerm?"No customers match your search criteria.":"No registered customers yet.")}}var ie=(()=>{class i{constructor(e){this.http=e,this.customers=[],this.filteredCustomers=[],this.loading=!0,this.searchTerm="",this.adminNavItems=[{label:"Dashboard",route:"/admin/dashboard",icon:"dashboard"},{label:"Appointments",route:"/admin/appointments",icon:"event"},{label:"Customers",route:"/admin/customers",icon:"people"},{label:"Calendar",route:"/admin/calendar",icon:"calendar_today"},{label:"Gallery",route:"/admin/gallery",icon:"collections"}]}ngOnInit(){this.loadCustomers()}loadCustomers(){this.loading=!0,this.getCustomers().subscribe({next:e=>{this.customers=e,this.filteredCustomers=e,this.loading=!1},error:e=>{console.error("Error loading customers:",e),this.loading=!1}})}getCustomers(){return this.http.get("http://localhost:8080/api/admin/customers")}searchCustomers(){let e=this.searchTerm.toLowerCase();this.filteredCustomers=this.customers.filter(s=>s.fullName.toLowerCase().includes(e)||s.email.toLowerCase().includes(e)||s.phoneNumber&&s.phoneNumber.includes(e))}deleteCustomer(e){confirm("Are you sure you want to delete this customer?")&&this.http.delete(`http://localhost:8080/api/admin/customers/${e}`).subscribe({next:()=>{this.loadCustomers()},error:s=>console.error("Error deleting customer:",s)})}static{this.\u0275fac=function(s){return new(s||i)(w(B))}}static{this.\u0275cmp=f({type:i,selectors:[["app-customers"]],decls:16,vars:6,consts:[[1,"admin-layout"],[3,"title","navItems"],[1,"customers-container"],[1,"customers-section"],[1,"section-header"],[1,"section-title"],[1,"material-icons"],[1,"search-box"],["type","text","placeholder","Search customers...",3,"ngModelChange","input","ngModel"],["class","loading",4,"ngIf"],["class","customers-table",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"loading"],[1,"spinner"],[1,"customers-table"],[4,"ngFor","ngForOf"],[1,"customer-info"],[1,"material-icons","avatar"],[1,"name"],[1,"badge"],[1,"actions"],["title","View Details",1,"btn-icon"],["title","Delete",1,"btn-icon","btn-danger",3,"click"],[1,"empty-state"],[1,"material-icons","empty-icon"]],template:function(s,r){s&1&&(n(0,"div",0),C(1,"app-shared-sidebar",1),n(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"span",6),o(7,"people"),t(),o(8," Registered Customers "),t(),n(9,"div",7)(10,"span",6),o(11,"search"),t(),n(12,"input",8),k("ngModelChange",function(u){return T(r.searchTerm,u)||(r.searchTerm=u),u}),_("input",function(){return r.searchCustomers()}),t()()(),g(13,ve,4,0,"div",9)(14,Pe,18,1,"div",10)(15,Oe,7,1,"div",11),t()()()),s&2&&(a(),p("title","Stitch Admin")("navItems",r.adminNavItems),a(11),D("ngModel",r.searchTerm),a(),p("ngIf",r.loading),a(),p("ngIf",!r.loading&&r.filteredCustomers.length>0),a(),p("ngIf",!r.loading&&r.filteredCustomers.length===0))},dependencies:[O,h,H,N,L,z,y],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background:linear-gradient(135deg,#2d010cf2,#2c010ef2);color:#f8f5ff;font-family:system-ui,sans-serif}.admin-layout[_ngcontent-%COMP%]{display:flex;min-height:100vh}.customers-container[_ngcontent-%COMP%]{flex:1;max-width:1400px;padding:24px;margin:0 auto}.customers-section[_ngcontent-%COMP%]{background:#05020ae6;border-radius:14px;padding:24px;border:1px solid rgba(246,231,193,.18)}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;gap:16px}.section-title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#f6e7c1;margin:0;display:flex;align-items:center;gap:12px}.section-title[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px}.search-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#0a0612e6;padding:8px 16px;border-radius:999px;border:1px solid rgba(246,231,193,.2)}.search-box[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;color:#f6e7c1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;color:#f8f5ff;font-size:14px;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#f8f5ff80}.customers-table[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#0a061280;border-radius:12px;overflow:hidden}thead[_ngcontent-%COMP%]{background:#0006}th[_ngcontent-%COMP%]{padding:16px;text-align:left;font-size:.85rem;font-weight:600;color:#f6e7c1;text-transform:uppercase;border-bottom:2px solid rgba(246,231,193,.2)}td[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid rgba(246,231,193,.1);color:#f8f5ff;font-size:.9rem}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .2s}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f6e7c10d}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.customer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.customer-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{font-size:32px;color:#f6e7c1}.customer-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:28px;height:28px;padding:0 8px;background:#f6e7c133;color:#f6e7c1;border-radius:14px;font-size:.8rem;font-weight:600}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-icon[_ngcontent-%COMP%]{padding:8px;border:none;border-radius:6px;background:#f6e7c11a;color:#f6e7c1;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f6e7c133;transform:translateY(-2px)}.btn-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px}.btn-icon.btn-danger[_ngcontent-%COMP%]{background:#dc354533;color:#dc3545}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:#dc35454d}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px}.empty-icon[_ngcontent-%COMP%]{font-size:64px;color:#f6e7c1;opacity:.3;display:block;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#f8f5ff;margin:0 0 8px;font-size:1.3rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c3b6e6;margin:0}.loading[_ngcontent-%COMP%]{text-align:center;padding:48px}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin:0 auto 16px;border:4px solid rgba(246,231,193,.2);border-top:4px solid #f6e7c1;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c3b6e6;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 900px){.admin-layout[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 768px){.section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.customers-table[_ngcontent-%COMP%]{font-size:.85rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 8px}}"]})}}return i})();var ye=[{path:"dashboard",component:ne},{path:"customers",component:ie},{path:"",redirectTo:"dashboard",pathMatch:"full"}],He=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=G({type:i})}static{this.\u0275inj=j({imports:[W,K,Q,$.forChild(ye)]})}}return i})();export{He as AdminModule};
